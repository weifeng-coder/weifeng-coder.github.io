<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>ctf学习_pwn方向_指南向 | 历尽年华成此景</title><meta name="author" content="Not404"><meta name="copyright" content="Not404"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Pwn 学习指北🚀零：写在前面在初学 Pwn 的过程中，我经历了种种痛苦，所以立志写下这份学习指南，希望能帮助大家更顺利地踏上 Pwn 学习之旅。你可以按照我建议的顺序和学习任务进行学习，但如果你有自己的想法，那当然要以你的为准啦。各位 Pwn 大神们如果有任何建议，也欢迎随时交流哦～ 一：首先是 Pwn 的初步介绍Pwn 的基本概念定义：Pwn 是一个俚语，来源于 “own”，意思是完全控制或">
<meta property="og:type" content="article">
<meta property="og:title" content="ctf学习_pwn方向_指南向">
<meta property="og:url" content="https://notweifeng.xyz/2025/05/12/ctf%E5%AD%A6%E4%B9%A0-pwn%E6%96%B9%E5%90%91-%E6%8C%87%E5%8D%97%E5%90%91/index.html">
<meta property="og:site_name" content="历尽年华成此景">
<meta property="og:description" content="Pwn 学习指北🚀零：写在前面在初学 Pwn 的过程中，我经历了种种痛苦，所以立志写下这份学习指南，希望能帮助大家更顺利地踏上 Pwn 学习之旅。你可以按照我建议的顺序和学习任务进行学习，但如果你有自己的想法，那当然要以你的为准啦。各位 Pwn 大神们如果有任何建议，也欢迎随时交流哦～ 一：首先是 Pwn 的初步介绍Pwn 的基本概念定义：Pwn 是一个俚语，来源于 “own”，意思是完全控制或">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img.picui.cn/free/2025/05/12/68219ed80f5b3.png">
<meta property="article:published_time" content="2025-05-12T10:23:56.000Z">
<meta property="article:modified_time" content="2025-05-12T15:08:17.362Z">
<meta property="article:author" content="Not404">
<meta property="article:tag" content="Not">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img.picui.cn/free/2025/05/12/68219ed80f5b3.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "ctf学习_pwn方向_指南向",
  "url": "https://notweifeng.xyz/2025/05/12/ctf%E5%AD%A6%E4%B9%A0-pwn%E6%96%B9%E5%90%91-%E6%8C%87%E5%8D%97%E5%90%91/",
  "image": "https://img.picui.cn/free/2025/05/12/68219ed80f5b3.png",
  "datePublished": "2025-05-12T10:23:56.000Z",
  "dateModified": "2025-05-12T15:08:17.362Z",
  "author": [
    {
      "@type": "Person",
      "name": "Not404",
      "url": "https://notweifeng.xyz/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.ico"><link rel="canonical" href="https://notweifeng.xyz/2025/05/12/ctf%E5%AD%A6%E4%B9%A0-pwn%E6%96%B9%E5%90%91-%E6%8C%87%E5%8D%97%E5%90%91/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ctf学习_pwn方向_指南向',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="web_bg" style="background-image: url(url(https://img.picui.cn/free/2025/05/12/6821d0c73db12.png));"></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://img.picui.cn/free/2025/05/12/68219ed80f5b3.png);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">历尽年华成此景</span></a><a class="nav-page-title" href="/"><span class="site-name">ctf学习_pwn方向_指南向</span></a></span><div id="menus"></div></nav><div id="post-info"><h1 class="post-title">ctf学习_pwn方向_指南向</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-05-12T10:23:56.000Z" title="发表于 2025-05-12 18:23:56">2025-05-12</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-05-12T15:08:17.362Z" title="更新于 2025-05-12 23:08:17">2025-05-12</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">2.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>6分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="Pwn-学习指北🚀"><a href="#Pwn-学习指北🚀" class="headerlink" title="Pwn 学习指北🚀"></a>Pwn 学习指北🚀</h1><h2 id="零：写在前面"><a href="#零：写在前面" class="headerlink" title="零：写在前面"></a>零：写在前面</h2><p>在初学 Pwn 的过程中，我经历了种种痛苦，所以立志写下这份学习指南，希望能帮助大家更顺利地踏上 Pwn 学习之旅。你可以按照我建议的顺序和学习任务进行学习，但如果你有自己的想法，那当然要以你的为准啦。各位 Pwn 大神们如果有任何建议，也欢迎随时交流哦～</p>
<h2 id="一：首先是-Pwn-的初步介绍"><a href="#一：首先是-Pwn-的初步介绍" class="headerlink" title="一：首先是 Pwn 的初步介绍"></a>一：首先是 Pwn 的初步介绍</h2><h3 id="Pwn-的基本概念"><a href="#Pwn-的基本概念" class="headerlink" title="Pwn 的基本概念"></a>Pwn 的基本概念</h3><p><strong>定义</strong>：Pwn 是一个俚语，来源于 “own”，意思是完全控制或拥有某个系统、程序或服务器。在网络安全领域，Pwn 通常指通过发现并利用漏洞来接管目标系统。</p>
<p><strong>应用场景</strong>：</p>
<ul>
<li><strong>CTF 比赛</strong>：Pwn 是 CTF 中的一个重要类别，参赛者需要利用二进制漏洞（如缓冲区溢出、格式化字符串漏洞等）来获取目标系统的控制权。</li>
<li><strong>漏洞挖掘与研究</strong>：用于分析软件的安全性，发现潜在的漏洞。</li>
<li><strong>渗透测试</strong>：模拟攻击以评估系统安全性。</li>
</ul>
<h3 id="Pwn-的关键"><a href="#Pwn-的关键" class="headerlink" title="Pwn 的关键"></a>Pwn 的关键</h3><p>在 CTF 比赛中，关键就是拿到 flag！</p>
<h2 id="二：前置需要"><a href="#二：前置需要" class="headerlink" title="二：前置需要"></a>二：前置需要</h2><ol>
<li><strong>学懂 C 语言！</strong><ul>
<li>C 语言作为信息类的基础，重要性不言而喻。</li>
</ul>
</li>
<li><strong>基本可以使用 Ubuntu 系统简单命令</strong><ul>
<li>如 <code>sudo</code>、<code>apt</code>、<code>ls</code>、<code>cd</code> 等。初步可以使用 VMware 虚拟机，在终端中自己尝试使用。但后期学习中，强烈推荐使用 WSL，方便省力。</li>
</ul>
</li>
<li><strong>理解栈的生成</strong><ul>
<li>包括栈的生成和销毁。</li>
</ul>
</li>
<li><strong>下载并初次使用反汇编神器 IDApro</strong><ul>
<li>不难，简单使用即可，在后面的学习中慢慢积累经验。</li>
</ul>
</li>
</ol>
<h2 id="三：初步搭配-Ubuntu-的-Pwn-环境"><a href="#三：初步搭配-Ubuntu-的-Pwn-环境" class="headerlink" title="三：初步搭配 Ubuntu 的 Pwn 环境"></a>三：初步搭配 Ubuntu 的 Pwn 环境</h2><p>个人推荐使用 Ubuntu 24.04 版本的系统进行搭配，推荐先进行换源。</p>
<p>需要下载的东西如下：</p>
<ol>
<li><strong>Python</strong>：我用的是 3.12 版本的，感觉没啥问题。</li>
<li><strong>pwntools</strong>：这个简单。</li>
<li><strong>gdb</strong>：Ubuntu 系统一般都会自带，可以在终端输入 <code>gdb</code> 检验一下。</li>
<li><strong>pwndbg</strong></li>
<li><strong>pwngdb</strong></li>
<li><strong>ROPgadget</strong></li>
<li><strong>checksec</strong></li>
</ol>
<p>初步学习的话，Linux 下的环境就已经配置完成了。</p>
<p>后续学习还需要：</p>
<ol>
<li><strong>LibcSearcher</strong></li>
<li><strong>seccomp-tools</strong></li>
<li><strong>onegadget</strong></li>
<li><strong>glibc-all-in-one</strong></li>
<li><strong>patchelf</strong></li>
</ol>
<p>安装完这些之后，栈部分基本够用了～</p>
<h2 id="四：栈的学习（重要以星号数量为准）（每个题型根据自己的需求做-1-3-道题即可）"><a href="#四：栈的学习（重要以星号数量为准）（每个题型根据自己的需求做-1-3-道题即可）" class="headerlink" title="四：栈的学习（重要以星号数量为准）（每个题型根据自己的需求做 1 - 3 道题即可）"></a>四：栈的学习（重要以星号数量为准）（每个题型根据自己的需求做 1 - 3 道题即可）</h2><h3 id="1-ret2text-🌟"><a href="#1-ret2text-🌟" class="headerlink" title="1. ret2text  🌟"></a>1. ret2text  🌟</h3><p>这道题称作 Pwn 世界的 HelloWorld，一般都是有 backdoor 后门函数（也许不叫这个名字，但一般有 <code>system(&quot;/bin/sh&quot;)</code>）。</p>
<p>这道题就是返回导向编程的第一步，通过简单栈溢出来修改返回地址，从而实现我们的目的。</p>
<p><strong>学习任务</strong>：</p>
<ol>
<li>初步学会 <code>checksec</code>。</li>
<li>逐渐学会 <code>pwntools</code> 中的简单语句的功能，如 <code>p64()</code>、<code>p32()</code>、<code>p=process(&#39;./文件&#39;)</code>、<code>p.recv()</code>、<code>p.sendline()</code>、<code>p.interactive()</code> 等。</li>
<li>明白栈帧中 rbp 和 ret_addr 两者的位置关系。</li>
<li>明白两种情况：<ul>
<li>有的时候需要加个 ret_addr 整个字节对齐。</li>
<li>有的时候就不需要加。</li>
</ul>
</li>
<li>感受打通远程的快感。</li>
</ol>
<h3 id="2-ret2shellcode-🌟"><a href="#2-ret2shellcode-🌟" class="headerlink" title="2. ret2shellcode  🌟"></a>2. ret2shellcode  🌟</h3><p>这种题型还行，需要稍微熟悉一下 <code>shellcraft</code> 的用法。</p>
<p><strong>学习任务</strong>：</p>
<ol>
<li>开始初步了解几种程序的保护机制：canary、NX、PIE。</li>
<li>第一次尝试使用 <code>shellcraft.sh()</code>。</li>
</ol>
<h3 id="3-canary-🌟🌟"><a href="#3-canary-🌟🌟" class="headerlink" title="3. canary  🌟🌟"></a>3. canary  🌟🌟</h3><p>主要考虑绕过 canary 对程序的保护，用一个输出相关的函数泄露出来就可以。</p>
<p>但注意一点，绕过 canary 有较多方法，暂时不建议去学多种方法（如格式化字符串漏洞），因为我觉得在后面学会更好。</p>
<p><strong>学习任务</strong>：</p>
<ol>
<li>深刻了解 canary 这种保护机制。</li>
<li>学习在 Python 脚本接收来自程序中的数据。</li>
</ol>
<h3 id="4-ret2libc-🌟🌟🌟🌟"><a href="#4-ret2libc-🌟🌟🌟🌟" class="headerlink" title="4. ret2libc  🌟🌟🌟🌟"></a>4. ret2libc  🌟🌟🌟🌟</h3><p>做题型需要提前了解一下什么是动态链接和静态链接。</p>
<p>需要下载 LibcSearcher，下载失败的话也不要紧，可以使用 libc-database 网站。</p>
<p><strong>学习任务</strong>：<br>0. 学习 <code>pwndbg</code> 调试，慢慢学。<br>0.5. 学会 <code>ROPgadget</code>。</p>
<ol>
<li>了解 plt 和 got 表有什么区别和联系。</li>
<li>初步学习各个寄存器，以及 x32 和 x64 的传参的区别。</li>
<li>初步学习打 rop 链。</li>
<li>理解一下 <code>libc_base_addr=函数真实地址 - libc的偏移地址</code>。</li>
</ol>
<p>这个题型在栈这一章节中相当重要！它可以和好多题型进行结合（如 csu、syscall）。</p>
<p><strong>附加任务</strong>：</p>
<ol>
<li>下载 <code>patchelf</code> 插件并学习如何使用。</li>
<li>下载 <code>glibc all in one</code> 插件并学习如何使用。</li>
</ol>
<h3 id="5-syscall-🌟🌟🌟🌟"><a href="#5-syscall-🌟🌟🌟🌟" class="headerlink" title="5. syscall  🌟🌟🌟🌟"></a>5. syscall  🌟🌟🌟🌟</h3><p>syscall 和 ret2libc 的重要性平起平坐，一般是在 got 表被人为抹去的时候用这种方法，难度较低。</p>
<p><strong>学习任务</strong>：</p>
<ol>
<li>了解 Linux 系统的系统调用号。</li>
</ol>
<p>*学完 syscall 题型就可以开始配置 WSL 虚拟环境了！之后的所有环境插件全放到 WSL 里面就可以了！</p>
<h3 id="6-one-gadget-🌟🌟🌟"><a href="#6-one-gadget-🌟🌟🌟" class="headerlink" title="6. one_gadget  🌟🌟🌟"></a>6. one_gadget  🌟🌟🌟</h3><p>one_gadget 就是 ret2libc 的初步简化版本，主要思想就是 libc 文件中有一段可以实现 <code>execve(&quot;/bin/sh&quot;,NULL,NULL)</code>（等同于 <code>system(&quot;/bin/sh&quot;)</code> 命令）的片段，被称为 one_gadget。</p>
<p><strong>学习任务</strong>：</p>
<ol>
<li>下载 one_gadget 插件（可能踩雷，加油）。</li>
<li>熟练使用 one_gadget 来拿到 shell。</li>
</ol>
<h3 id="7-ORW-🌟🌟🌟🌟🌟"><a href="#7-ORW-🌟🌟🌟🌟🌟" class="headerlink" title="7. ORW  🌟🌟🌟🌟🌟"></a>7. ORW  🌟🌟🌟🌟🌟</h3><p>我个人认为这道题实在是难以确定学习位置，它可以在学 shellcode 之后立马学，也可以现在才学。</p>
<p>这不是一种题型，更准确的说是一个知识点，这个知识点是可以和其他的题型结合着去出题的。</p>
<p>所谓 ORW 就是：</p>
<ul>
<li>O：open flag 文件</li>
<li>R：read 文件内容到程序中</li>
<li>W：write 程序中的文件内容到终端中</li>
</ul>
<p>在没有进行 <code>system(&quot;/bin/sh&quot;)</code> 的前提下，我们也拿到了 flag。</p>
<p><strong>学习任务</strong>：</p>
<ol>
<li>下载 <code>seccomp-tools</code> 插件，了解沙盒保护。</li>
<li>使用 orw 拿到 flag。</li>
</ol>
<h3 id="8-csu-🌟🌟🌟🌟"><a href="#8-csu-🌟🌟🌟🌟" class="headerlink" title="8. csu  🌟🌟🌟🌟"></a>8. csu  🌟🌟🌟🌟</h3><p>来到了 csu 的学习终于也是上强度了。</p>
<p><strong>学习任务</strong>：<br>0. 思考如何控制 rdx 寄存器，<code>ROPgadget</code> 找不到。</p>
<ol>
<li>学习并了解 csu。</li>
<li>着重学习 <code>call [r12+rbp*8]</code>（这个是 csu 的一行指令，不一定是 r12，有的时候是 r15）中的 <code>[ ]</code> 的作用。</li>
</ol>
<h3 id="9-Srop-🌟🌟"><a href="#9-Srop-🌟🌟" class="headerlink" title="9. Srop  🌟🌟"></a>9. Srop  🌟🌟</h3><p>srop 可以比作立体几何中的建系，不过条件很苛刻，但一旦使用就是核武器、杀手锏！</p>
<p><strong>学习任务</strong>：</p>
<ol>
<li>了解即可，能用到的时候要会用。</li>
</ol>
<h3 id="10-栈迁移-🌟🌟🌟🌟"><a href="#10-栈迁移-🌟🌟🌟🌟" class="headerlink" title="10. 栈迁移  🌟🌟🌟🌟"></a>10. 栈迁移  🌟🌟🌟🌟</h3><p>栈迁移是一种可以扩大 payload 长度的一种手段，可以和各种题型进行结合考察，考验 pwn 手对栈的布局的理解。</p>
<p><strong>学习任务</strong>：</p>
<ol>
<li>了解什么情况下使用栈迁移。</li>
<li>深入理解 <code>leave ret</code> 指令的作用。</li>
</ol>
<h2 id="五：格式化字符串-的学习"><a href="#五：格式化字符串-的学习" class="headerlink" title="五：格式化字符串 的学习"></a>五：格式化字符串 的学习</h2><p>说实话这个板块可以在学习 canary 的时候就开始学，但我个人是不推荐的……因为我估计可能学不懂。所以我参考了一下 ctfwiki 上的学习顺序，把格式化字符串的学习放到了整个栈溢出的后面。</p>
<p><strong>学习任务</strong>：</p>
<ol>
<li>学习 <code>printf</code> 的漏洞的不同情况。</li>
<li>学习用 <code>gdb</code> 查看所需要泄露的数据和栈顶的距离。</li>
</ol>
<h2 id="六：堆的学习"><a href="#六：堆的学习" class="headerlink" title="六：堆的学习"></a>六：堆的学习</h2><h3 id="0-学堆之前"><a href="#0-学堆之前" class="headerlink" title="0. 学堆之前"></a>0. 学堆之前</h3><p>需要先了解一下 “数据结构” 这门课程中的链表知识点，明白 malloc 函数的特性。</p>
<h3 id="1-2-23-版本的-fastbin-利用"><a href="#1-2-23-版本的-fastbin-利用" class="headerlink" title="1. 2.23 版本的 fastbin 利用"></a>1. 2.23 版本的 fastbin 利用</h3><h4 id="①-uaf"><a href="#①-uaf" class="headerlink" title="① uaf"></a>① uaf</h4><p>fastbin 的 uaf 应该是最简单的堆题目了。</p>
<p><strong>学习任务</strong>：<br>0. 明白什么时候可以利用 uaf。</p>
<ol>
<li>学会写堆题目的脚本的基本模板。</li>
<li>学会利用 <code>heap</code>、<code>bins</code>、<code>vis</code> 等命令进行堆调试。</li>
<li>明白 chunk 释放前和释放后各个位置代表什么含义。</li>
<li>学会利用 uaf 去改指针，从而任意地址开 chunk。</li>
<li>学会利用 <code>free_hook</code> 和 one_gadget 拿 shell。</li>
</ol>
<h4 id="②-堆溢出"><a href="#②-堆溢出" class="headerlink" title="② 堆溢出"></a>② 堆溢出</h4><p>堆溢出很重要，对于后续的 unlink 学习很关键。</p>
<p><strong>学习任务</strong>：</p>
<ol>
<li>利用堆溢出修改物理相邻的 chunk 的 fd 和 bk 指针。</li>
</ol>
<h4 id="③-double-free"><a href="#③-double-free" class="headerlink" title="③ double_free"></a>③ double_free</h4><p>double_free 是 fastbin 很重要的特性之一，在后续的 tcachebin 中需要分版本进行 double_free（不常用）。</p>
<p><strong>学习任务</strong>：</p>
<ol>
<li>利用 double free 修改 chunk 的 fd 和 bk 指针。</li>
</ol>
<h3 id="2-2-27-版本的-tcachebin-的利用"><a href="#2-2-27-版本的-tcachebin-的利用" class="headerlink" title="2. 2.27 版本的 tcachebin 的利用"></a>2. 2.27 版本的 tcachebin 的利用</h3><p>tcachebin 的管理机制和 fastbin 大不相同。</p>
<ol start="0">
<li>首先声明，tcachebin 中依然可以使用 uaf 和堆溢出，但是 double_free 需要分版本进行（好像只有 2.27-3ubuntu1 版本可以）。</li>
</ol>
<h4 id="tcache-投毒"><a href="#tcache-投毒" class="headerlink" title="tcache 投毒"></a>tcache 投毒</h4><p><strong>学习任务</strong>：</p>
<ol>
<li>明白 tcache 的管理机制。</li>
<li>学会利用其他漏洞进行 tcache 投毒，使 tcache 成为一种假满的状态，从而可以申请到 unsortedbin 中进一步得到 libc 有关的地址。</li>
</ol>
<hr>
<p>未完待续（短期不会再更新）……</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://notweifeng.xyz">Not404</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://notweifeng.xyz/2025/05/12/ctf%E5%AD%A6%E4%B9%A0-pwn%E6%96%B9%E5%90%91-%E6%8C%87%E5%8D%97%E5%90%91/">https://notweifeng.xyz/2025/05/12/ctf%E5%AD%A6%E4%B9%A0-pwn%E6%96%B9%E5%90%91-%E6%8C%87%E5%8D%97%E5%90%91/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://notweifeng.xyz" target="_blank">历尽年华成此景</a>！</span></div></div><div class="tag_share"><div class="post-share"><div class="social-share" data-image="https://img.picui.cn/free/2025/05/12/68219ed80f5b3.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/05/11/hello-world/" title="Hello World"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">Hello World</div></div><div class="info-2"><div class="info-item-1">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot;  More info: Writing Run server1$ hexo server  More info: Server Generate static files1$ hexo generate  More info: Generating Deploy to remote sites1$ hexo deploy  More info: Deployment </div></div></div></a><a class="pagination-related" href="/2025/05/12/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84c%E8%AF%AD%E8%A8%80%E7%89%88-%E7%9F%A5%E8%AF%86%E7%82%B9%E7%9B%B8%E5%85%B3%E4%BB%A3%E7%A0%81/" title="数据结构c语言版-知识点相关代码"><img class="cover" src="https://img.picui.cn/free/2025/05/12/68221085814e2.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">数据结构c语言版-知识点相关代码</div></div><div class="info-2"><div class="info-item-1">1.顺序表1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768#include&lt;stdio.h&gt;#include&lt;stdlib.h&gt;#include &lt;stdbool.h&gt;//初始化1#define MaxSize 50typedef int ElemType;typedef struct&#123;    ElemType data[MaxSize];    int length;&#125;SqList;//初始化2#define InitSize 100typedef struct&#123;    ElemType *data;    int MaxSize_1,length;&#125;SeqList;//插入//时间复杂度O(n)bool ListInsert(SqList L,int i,ElemType e)&#123;   ...</div></div></div></a></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Not404</div><div class="author-info-description">西北工业大学<br>网络空间安全学院24级学生</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">3</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Pwn-%E5%AD%A6%E4%B9%A0%E6%8C%87%E5%8C%97%F0%9F%9A%80"><span class="toc-text">Pwn 学习指北🚀</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9B%B6%EF%BC%9A%E5%86%99%E5%9C%A8%E5%89%8D%E9%9D%A2"><span class="toc-text">零：写在前面</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%EF%BC%9A%E9%A6%96%E5%85%88%E6%98%AF-Pwn-%E7%9A%84%E5%88%9D%E6%AD%A5%E4%BB%8B%E7%BB%8D"><span class="toc-text">一：首先是 Pwn 的初步介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Pwn-%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-text">Pwn 的基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Pwn-%E7%9A%84%E5%85%B3%E9%94%AE"><span class="toc-text">Pwn 的关键</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%EF%BC%9A%E5%89%8D%E7%BD%AE%E9%9C%80%E8%A6%81"><span class="toc-text">二：前置需要</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%EF%BC%9A%E5%88%9D%E6%AD%A5%E6%90%AD%E9%85%8D-Ubuntu-%E7%9A%84-Pwn-%E7%8E%AF%E5%A2%83"><span class="toc-text">三：初步搭配 Ubuntu 的 Pwn 环境</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%EF%BC%9A%E6%A0%88%E7%9A%84%E5%AD%A6%E4%B9%A0%EF%BC%88%E9%87%8D%E8%A6%81%E4%BB%A5%E6%98%9F%E5%8F%B7%E6%95%B0%E9%87%8F%E4%B8%BA%E5%87%86%EF%BC%89%EF%BC%88%E6%AF%8F%E4%B8%AA%E9%A2%98%E5%9E%8B%E6%A0%B9%E6%8D%AE%E8%87%AA%E5%B7%B1%E7%9A%84%E9%9C%80%E6%B1%82%E5%81%9A-1-3-%E9%81%93%E9%A2%98%E5%8D%B3%E5%8F%AF%EF%BC%89"><span class="toc-text">四：栈的学习（重要以星号数量为准）（每个题型根据自己的需求做 1 - 3 道题即可）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-ret2text-%F0%9F%8C%9F"><span class="toc-text">1. ret2text  🌟</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-ret2shellcode-%F0%9F%8C%9F"><span class="toc-text">2. ret2shellcode  🌟</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-canary-%F0%9F%8C%9F%F0%9F%8C%9F"><span class="toc-text">3. canary  🌟🌟</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-ret2libc-%F0%9F%8C%9F%F0%9F%8C%9F%F0%9F%8C%9F%F0%9F%8C%9F"><span class="toc-text">4. ret2libc  🌟🌟🌟🌟</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-syscall-%F0%9F%8C%9F%F0%9F%8C%9F%F0%9F%8C%9F%F0%9F%8C%9F"><span class="toc-text">5. syscall  🌟🌟🌟🌟</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-one-gadget-%F0%9F%8C%9F%F0%9F%8C%9F%F0%9F%8C%9F"><span class="toc-text">6. one_gadget  🌟🌟🌟</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-ORW-%F0%9F%8C%9F%F0%9F%8C%9F%F0%9F%8C%9F%F0%9F%8C%9F%F0%9F%8C%9F"><span class="toc-text">7. ORW  🌟🌟🌟🌟🌟</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-csu-%F0%9F%8C%9F%F0%9F%8C%9F%F0%9F%8C%9F%F0%9F%8C%9F"><span class="toc-text">8. csu  🌟🌟🌟🌟</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-Srop-%F0%9F%8C%9F%F0%9F%8C%9F"><span class="toc-text">9. Srop  🌟🌟</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-%E6%A0%88%E8%BF%81%E7%A7%BB-%F0%9F%8C%9F%F0%9F%8C%9F%F0%9F%8C%9F%F0%9F%8C%9F"><span class="toc-text">10. 栈迁移  🌟🌟🌟🌟</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%EF%BC%9A%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%AD%97%E7%AC%A6%E4%B8%B2-%E7%9A%84%E5%AD%A6%E4%B9%A0"><span class="toc-text">五：格式化字符串 的学习</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%EF%BC%9A%E5%A0%86%E7%9A%84%E5%AD%A6%E4%B9%A0"><span class="toc-text">六：堆的学习</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#0-%E5%AD%A6%E5%A0%86%E4%B9%8B%E5%89%8D"><span class="toc-text">0. 学堆之前</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-23-%E7%89%88%E6%9C%AC%E7%9A%84-fastbin-%E5%88%A9%E7%94%A8"><span class="toc-text">1. 2.23 版本的 fastbin 利用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0-uaf"><span class="toc-text">① uaf</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1-%E5%A0%86%E6%BA%A2%E5%87%BA"><span class="toc-text">② 堆溢出</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A2-double-free"><span class="toc-text">③ double_free</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-27-%E7%89%88%E6%9C%AC%E7%9A%84-tcachebin-%E7%9A%84%E5%88%A9%E7%94%A8"><span class="toc-text">2. 2.27 版本的 tcachebin 的利用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#tcache-%E6%8A%95%E6%AF%92"><span class="toc-text">tcache 投毒</span></a></li></ol></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/05/12/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84c%E8%AF%AD%E8%A8%80%E7%89%88-%E7%9F%A5%E8%AF%86%E7%82%B9%E7%9B%B8%E5%85%B3%E4%BB%A3%E7%A0%81/" title="数据结构c语言版-知识点相关代码"><img src="https://img.picui.cn/free/2025/05/12/68221085814e2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="数据结构c语言版-知识点相关代码"/></a><div class="content"><a class="title" href="/2025/05/12/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84c%E8%AF%AD%E8%A8%80%E7%89%88-%E7%9F%A5%E8%AF%86%E7%82%B9%E7%9B%B8%E5%85%B3%E4%BB%A3%E7%A0%81/" title="数据结构c语言版-知识点相关代码">数据结构c语言版-知识点相关代码</a><time datetime="2025-05-12T14:51:12.000Z" title="发表于 2025-05-12 22:51:12">2025-05-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/05/12/ctf%E5%AD%A6%E4%B9%A0-pwn%E6%96%B9%E5%90%91-%E6%8C%87%E5%8D%97%E5%90%91/" title="ctf学习_pwn方向_指南向"><img src="https://img.picui.cn/free/2025/05/12/68219ed80f5b3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ctf学习_pwn方向_指南向"/></a><div class="content"><a class="title" href="/2025/05/12/ctf%E5%AD%A6%E4%B9%A0-pwn%E6%96%B9%E5%90%91-%E6%8C%87%E5%8D%97%E5%90%91/" title="ctf学习_pwn方向_指南向">ctf学习_pwn方向_指南向</a><time datetime="2025-05-12T10:23:56.000Z" title="发表于 2025-05-12 18:23:56">2025-05-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/05/11/hello-world/" title="Hello World">Hello World</a><time datetime="2025-05-11T14:10:21.336Z" title="发表于 2025-05-11 22:10:21">2025-05-11</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2025 By Not404</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.3.5</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="40" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>